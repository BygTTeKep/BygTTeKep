# Какую проблему решает
Decarator решает проблему расширения поведения объекта без изменения его кода и взрыва наследования

---
# Симтомы
- много однотипных оберток
	- логирование
	- метрики
	- кэш
	- retry
- повторяющийся код до/после основного действия
- большое кол-во похожих классов
- необходимость
	- комбинировать поведение
	- включать/выключать фичи

---
# Суть
- есть общий интерфейс
- есть базовая реализация
- есть декораторые которые:
	- реализуют тотже интерфейс
	- содержат ссылку на объект того же типа
	- добавляют поведение до и после делегирования


---
# Ключевая идея
Композиция вместо наследования
поведение добавляется не через extends, а через оборачивание


---
# Когда оправдан
- поведение ортоганально бизнес лоигке
- повторяется в разных местах
- нужны кросс срезы
- требуется гибкая комбинация поведения


---
# Когда антипаттерн
- декораторы начинают зависеть друг от друга
- порядок оберток критичен, но не очевиден
- внутри декоратора появляется бизнес логика
- стек декораторов становится слишком лгубоким
- код сложно отлаживать
