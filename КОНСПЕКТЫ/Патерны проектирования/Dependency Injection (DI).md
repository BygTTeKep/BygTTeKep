# Какую проблему решает
DI решает проблеум жесткой связанности между 
- бизнес логикой и инфраструктурой
- высокоуровневыми модулями и конкретными реализациями

---
# Симтомы
- new внутри сервисов и доменных классов
- сервисы напрямую создают репозитории / UoW
- сложно подменить зависимости в тестах
- инфраструктура протекает в application/domain


---
# Суть
объекст создает свои зависимости сам
- объявляет что ему нужно
- получает зависимости извне

---
# Ключевая идея
зависимости направлены от бизнес кода к абстракциям, а конкретные реализации подключаются на границе системы


---
# Когда оправдан
- несколько реализаций одной абстракции
- нужны тесты без инфраструктуры
- есть четкие слои
- бизнес логика живет дольше инфраструктуры


---
# Когда антипаттерн
- скрытые зависимости хуже чем new
- DI в domain
- инъекции всего подряд