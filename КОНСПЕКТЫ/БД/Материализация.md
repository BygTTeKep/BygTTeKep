**–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** –≤ SQL ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –°–£–ë–î **–≤—ã–Ω—É–∂–¥–µ–Ω–Ω–æ —Å–æ–∑–¥–∞—ë—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É** –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ CTE, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–∞–ª—å—à–µ –≤ –∑–∞–ø—Ä–æ—Å–µ.

–¢–æ –µ—Å—Ç—å –æ–Ω–∞ **–≤—ã—á–∏—Å–ª—è–µ—Ç –ø–æ–¥–∑–∞–ø—Ä–æ—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –∏ –ø–æ—Ç–æ–º —á–∏—Ç–∞–µ—Ç –µ–≥–æ –∫–∞–∫ –æ–±—ã—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É**.
# –ü—Ä–∏–∑–Ω–∞–∫–∏
```json
"table_name": "<derived2>"
"materialized": {...}
"temporary_table": {...}
"filesort": {...}

```
–≠—Ç–æ –ø—Ä—è–º–æ–π —Å–∏–≥–Ω–∞–ª:

‚Üí MySQL –≤—ã–¥–µ–ª–∏–ª –ø–∞–º—è—Ç—å / –¥–∏—Å–∫  
‚Üí —Å–æ–∑–¥–∞–ª –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É  
‚Üí –∑–∞–ø–æ–ª–Ω–∏–ª –µ—ë  
‚Üí –¥–∞–ª—å—à–µ —á–∏—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

---

# üìå –ß–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–∑–Ω–∞

- –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç 2+ —Ä–∞–∑
    
- –¥–µ–ª–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–∏–º—ã–º–∏
    
- —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Ç—è–∂—ë–ª—ã–π —ç—Ç–∞–ø –Ω–∞ –æ–¥–∏–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —à–∞–≥
    

---

# üìå –ß–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–¥–Ω–∞

- —Ç—Ä–µ–±—É–µ—Ç RAM
    
- –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å tmp table –Ω–∞ –¥–∏—Å–∫–µ ‚Üí –º–µ–¥–ª–µ–Ω–Ω–æ
    
- –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å filesort
    
- –¥–≤–∏–≥–∞–µ—Ç –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫
    

**–ò–º–µ–Ω–Ω–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–æ –¥–µ–ª–∞–µ—Ç OLAP-–∑–∞–ø—Ä–æ—Å—ã —Ç—è–∂—ë–ª—ã–º–∏.**

---

# üìå –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É CTE –∏ –æ–±—ã—á–Ω—ã–º –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–º

–í MySQL:

- **CTE –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è**
    
- –Ω–æ –µ—Å–ª–∏ CTE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑**, MySQL –ø—ã—Ç–∞–µ—Ç—Å—è inline‚Äô–∏—Ç—å –µ–≥–æ
    
- –µ—Å–ª–∏ inline –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω ‚Üí –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
    

–ü–æ–¥–∑–∞–ø—Ä–æ—Å:

- –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω
    
- –Ω–æ –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω (inline)
    

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ MySQL –æ—Ç–Ω–æ—Å–∏—Ç –∏ CTE, –∏ derived table –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–µ.

![[Pasted image 20251123161151.png]]